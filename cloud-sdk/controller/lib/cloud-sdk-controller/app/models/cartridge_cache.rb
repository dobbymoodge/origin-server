class CartridgeCache
	def self.cartridges
	  json = '["--- \nRequires: []\n\nLicense: APL\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: \n  set-proxy-url: \n    Required: false\n    Type: STRING:proxy-path\n  set-doc-root: \n    Required: false\n    Type: FILESYSTEM:doc-root\nPublishes: \n  get-internal-uri: \n    Required: false\n    Type: NET_TCP:HTTP\nVendor: Apache\nName: www-dynamic\nConnections: {}\n\nNative-Requires: \n- mod_bw\nDisplay-Name: www-dynamic v2.2 (noarch)\nProvides: \n- www-dynamic\nVersion: 1.0.0\nDependencies: []\n\nDescription: Web server\nArchitecture: noarch\n","--- \nRequires: \n- pymongo\n- mms-agent\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nVendor: 10gen.com\nName: rhc-cartridge-10gen-mms-0.1\nConnections: {}\n\nNative-Requires: []\n\nDisplay-Name: 10gen-mms v0.1 (noarch)\nProvides: \n- 10gen-mms\nVersion: 1.0.0\nGroups: \n  default: \n    Scaling: \n      Max: 1\n      Min: 1\n    Components: \n      comp1: default\nDescription: Cartridge packaging 10gen mms service\nComponents: \n  default: \n    Service-Dependencies: \n    - rhc-cartridge-mongodb-2.0\n    Subscribes: \n      set-mongo-connection-info: \n        Required: true\n        Type: NET_TCP:db:mongodb\n    Publishes: {}\n\n    Dependencies: []\n\nArchitecture: noarch\n","--- \nRequires: \n- www-dynamic\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: \n  set-mysql-connection-info: \n    Required: false\n    Type: NET_TCP:db:mysql\n  set-postgres-connection-info: \n    Required: false\n    Type: NET_TCP:db:postgres\nPublishes: \n  get-doc-root: \n    Required: false\n    Type: FILESYSTEM:doc-root\nVendor: unknown\nName: rhc-cartridge-rack\nConnections: {}\n\nNative-Requires: \n- sqlite-devel\n- rubygems\n- rubygem-rack >= 1.1.0\n- rubygem-passenger\n- rubygem-passenger-native\n- rubygem-passenger-native-libs\n- mod_passenger\n- rubygem-bundler\n- rubygem-mongo\n- rubygem-sqlite3\n- ruby-sqlite3\n- ruby-mysql\n- mysql-devel\n- ruby-devel\n- ruby-nokogiri\n- libxml2\n- libxml2-devel\n- libxslt\n- libxslt-devel\n- gcc-c++\n- js\nDisplay-Name: ruby v1.8 (noarch)\nProvides: \n- ruby-1.8\n- ruby(version) = 1.8\nVersion: 1.0.0\nDependencies: []\n\nStart-Order: \n- rack\nDescription: Cartridge packaging ruby support running on Phusion Passenger\nArchitecture: noarch\n","--- \nRequires: \n- www-dynamic\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: \n  set-mysql-connection-info: \n    Required: false\n    Type: NET_TCP:db:mysql\n  set-postgres-connection-info: \n    Required: false\n    Type: NET_TCP:db:postgres\n  set-proxy-path: \n    Required: false\n    Type: STRING:proxy-path\n  set-mongo-connection-info: \n    Required: false\n    Type: NET_TCP:db:mongodb\nPublishes: \n  get-proxy-url: \n    Required: false\n    Type: STRING:proxy-path\n  get-doc-root: \n    Required: false\n    Type: FILESYSTEM:doc-root\nVendor: unknown\nName: rhc-cartridge-perl\nConnections: {}\n\nNative-Requires: \n- mod_perl\n- perl-MongoDB\n- ImageMagick-perl\n- perl-App-cpanminus\nDisplay-Name: perl v5.10 (noarch)\nProvides: \n- mod_perl\nVersion: 1.0.0\nDependencies: []\n\nStart-Order: \n- rhc-cartridge-perl\nDescription: Cartridge packaging Perl versions 5.10\nArchitecture: noarch\n","--- \nRequires: []\n\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: {}\n\nPublishes: {}\n\nVendor: unknown\nName: raw\nConnections: {}\n\nNative-Requires: []\n\nDisplay-Name: raw v1.0.0 (noarch)\nProvides: \n- raw\nVersion: 1.0.0\nDependencies: []\n\nDescription: Cartridge providing raw compute power to applications\nArchitecture: noarch\n","--- \nRequires: []\n\nLicense: GPLv2\nDefault-Profile: standalone\nConflicts: []\n\nProfiles: \n  standalone: \n    Connections: {}\n\n    Provides: \n    - memcached-standalone\n    Groups: \n      memcached: \n        Scaling: \n          Max: 1\n          Min: 1\n        Components: \n          memcached-server: memcached-server\n    Components: \n      memcached-server: \n        Service-Dependencies: []\n\n        Subscribes: {}\n\n        Publishes: \n          get-db-connection-info: \n            Required: false\n            Type: NET_TCP:db:connection-info\n        Dependencies: []\n\n  default: \n    Connections: {}\n\n    Provides: \n    - memcached-standalone\n    Groups: \n      memcached: \n        Scaling: \n          Max: 1\n          Min: 1\n        Components: \n          memcached-server: memcached-server\n    Components: \n      memcached-server: \n        Service-Dependencies: []\n\n        Subscribes: {}\n\n        Publishes: \n          get-db-connection-info: \n            Required: false\n            Type: NET_TCP:db:connection-info\n        Dependencies: []\n\nVendor: unknown\nName: rhc-cartridge-memcached-1.4\nNative-Requires: \n- memcached\n- libmemcached\n- php-pecl-memcache\n- php-pecl-memcached\n- perl-Cache-Memcached\n- python-memcached.noarch\nDisplay-Name: Memcached v1.4\nProvides: \n- rhc-cartridge-memcached\nVersion: 1.4\nDescription: Memcached Cache\nArchitecture: noarch\n","--- \nRequires: []\n\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: {}\n\nPublishes: \n  get-interface-url: \n    Required: false\n    Type: NET_TCP:jenkins:url\nVendor: unknown\nName: rhc-cartridge-jenkins-1.4\nConnections: {}\n\nNative-Requires: \n- java\n- jenkins\n- jenkins-plugin-openshift\nDisplay-Name: Jenkins v0.84.1 (noarch)\nProvides: \n- jenkins\n- jenkins(version) = 1.4\nVersion: 0.84.1\nDependencies: []\n\nDescription: Provides jenkins-1.4 support\nArchitecture: noarch\n","--- \nRequires: \n- www-dynamic\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: \n  set-mysql-connection-info: \n    Required: false\n    Type: NET_TCP:db:mysql\n  set-postgres-connection-info: \n    Required: false\n    Type: NET_TCP:db:postgres\n  set-mongo-connection-info: \n    Required: false\n    Type: NET_TCP:db:mongo\nPublishes: \n  get-doc-root: \n    Required: false\n    Type: FILESYSTEM:doc-root\nVendor: unknown\nName: rhc-cartridge-wsgi\nConnections: {}\n\nNative-Requires: \n- python\n- mod_wsgi = 3.2\n- MySQL-python\n- pymongo\n- pymongo-gridfs\n- python-psycopg2\n- python-virtualenv\n- libjpeg\n- libjpeg-devel\n- libcurl\n- libcurl-devel\nDisplay-Name: wsgi v3.2 (noarch)\nProvides: \n- wsgi\n- wsgi (version) = 3.2\nVersion: 1.0.0\nDependencies: []\n\nStart-Order: \n- wsgi\nDescription: Cartridge packaging wsgi support for python applications\nArchitecture: noarch\n","--- \nRequires: \n- www-dynamic\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: \n  set-mysql-connection-info: \n    Required: false\n    Type: NET_TCP:db:mysql\n  set-postgres-connection-info: \n    Required: false\n    Type: NET_TCP:db:postgres\nPublishes: \n  get-php-ini: \n    Required: false\n    Type: FILESYSTEM:php-ini\n  get-doc-root: \n    Required: false\n    Type: FILESYSTEM:doc-root\nVendor: php.net\nName: rhc-cartridge-php\nConnections: {}\n\nNative-Requires: \n- php >= 5.3.2\n- php < 5.4.0\n- php-pdo\n- php-gd\n- php-xml\n- php-mysql\n- php-pgsql\n- php-pear\nDisplay-Name: php v1.0.0 (noarch)\nProvides: \n- php\n- php(version) = 5.3.2\nVersion: 1.0.0\nDependencies: []\n\nStart-Order: \n- php\nDescription: Cartridge packaging PHP versions 5.3.2 upto 5.4.0\nArchitecture: noarch\n","--- \nRequires: []\n\nLicense: GNU LGPL 2.1 or (at your option) any later version\nDefault-Profile: standalone\nConflicts: []\n\nProfiles: \n  standalone: \n    Connections: {}\n\n    Provides: \n    - jboss-standalone, jboss-as7-standalone, jboss-as7.1-standalone\n    Groups: \n      app-servers: \n        Scaling: \n          Max: -1\n          Min: 1\n        Components: \n          jbossas-server: jbossas-server\n    Components: \n      jbossas-server: \n        Service-Dependencies: []\n\n        Subscribes: \n          set-jdbc-info: \n            Required: false\n            Type: NET_TCP:jdbc\n        Publishes: \n          get-doc-root: \n            Required: false\n            Type: FILESYSTEM:doc-root\n          get-internal-uri: \n            Required: false\n            Type: NET_TCP:http\n        Dependencies: []\n\n  default: \n    Connections: {}\n\n    Provides: \n    - jboss-standalone, jboss-as7-standalone, jboss-as7.1-standalone\n    Groups: \n      app-servers: \n        Scaling: \n          Max: -1\n          Min: 1\n        Components: \n          jbossas-server: jbossas-server\n    Components: \n      jbossas-server: \n        Service-Dependencies: []\n\n        Subscribes: \n          set-jdbc-info: \n            Required: false\n            Type: NET_TCP:jdbc\n        Publishes: \n          get-doc-root: \n            Required: false\n            Type: FILESYSTEM:doc-root\n          get-internal-uri: \n            Required: false\n            Type: NET_TCP:http\n        Dependencies: []\n\nVendor: jboss.org\nName: jboss-as7\nNative-Requires: \n- java-1.6.0\n- maven3\nDisplay-Name: JBoss Application Server 7.1.0 (noarch)\nProvides: \n- jboss\n- jboss(version) = 7.1.0\n- jboss(version) >= 7.0\n- jboss-as7\n- jboss-as7.1\nVersion: 7.1.0\nDescription: JBoss Application Server - Java EE Application Server\nArchitecture: noarch\n","--- \nRequires: []\n\nLicense: GNU AGPLv3.0\nDefault-Profile: basic\nConflicts: []\n\nProfiles: \n  master-slave: \n    Connections: \n      master-slave-connections: \n        Components: \n        - master\n        - slaves\n    Provides: \n    - mongodb-master-slave\n    Groups: \n      slaves: \n        Scaling: \n          Max: -1\n          Min: 1\n        Components: \n          slaves: slave\n      master: \n        Scaling: \n          Max: 1\n          Min: 1\n        Components: \n          master: master\n    Start-Order: \n    - master\n    - slaves\n    Components: \n      master: \n        Service-Dependencies: []\n\n        Subscribes: \n          set-slave: \n            Required: false\n            Type: NET_TCP:db:mongodb:slave\n        Publishes: \n          get-db-connection-info: \n            Required: false\n            Type: NET_TCP:db:connection-info\n          get-mongo-connection-info: \n            Required: false\n            Type: NET_TCP:db:mongodb\n          get-master: \n            Required: false\n            Type: NET_TCP:db:mongodb:master\n        Dependencies: []\n\n      slave: \n        Service-Dependencies: []\n\n        Subscribes: \n          set-master: \n            Required: false\n            Type: NET_TCP:db:mongodb:master\n        Publishes: \n          get-slave: \n            Required: false\n            Type: NET_TCP:db:mongodb:slave\n          get-db-connection-info: \n            Required: false\n            Type: NET_TCP:db:connection-info\n        Dependencies: []\n\n  basic: \n    Connections: {}\n\n    Provides: \n    - mongodb-basic-mode\n    Groups: \n      singlenode: \n        Scaling: \n          Max: 1\n          Min: 1\n        Components: \n          mongod-process: mongod\n    Components: \n      mongod: \n        Service-Dependencies: []\n\n        Subscribes: {}\n\n        Publishes: \n          get-db-connection-info: \n            Required: false\n            Type: NET_TCP:db:connection-info\n          get-mongo-connection-info: \n            Required: false\n            Type: NET_TCP:db:mongodb\n        Dependencies: []\n\n  replica-sets: \n    Connections: \n      config-server-router-connections: \n        Components: \n        - config_server\n        - router\n      arbiter-config-server-router-connections: \n        Components: \n        - arbiter_config_server\n        - router\n      arbiter-replica-config-server-connections: \n        Components: \n        - arbiter_replica\n        - arbiter_config_server\n      replica-set-config-server-connections: \n        Components: \n        - replica\n        - config_server\n    Provides: \n    - mongodb-replica-sets\n    Groups: \n      routers: \n        Scaling: \n          Max: -1\n          Min: 1\n        Components: \n          router: router\n      arbiter: \n        Scaling: \n          Max: 1\n          Min: 1\n        Components: \n          arbiter_replica: replicaset_member\n          arbiter_config_server: configsvr\n      replica_set: \n        Scaling: \n          Max: -1\n          Min: 2\n        Components: \n          replica: replicaset_member\n      config_servers: \n        Scaling: \n          Max: -1\n          Min: 1\n        Components: \n          config_server: configsvr\n    Start-Order: \n    - arbiter_config_server\n    - arbiter_replica\n    - config_server\n    - router\n    - replica\n    Components: \n      replicaset_member: \n        Service-Dependencies: []\n\n        Subscribes: {}\n\n        Publishes: \n          get-replicaset-member: \n            Required: false\n            Type: NET_TCP:db:mongodb:replica\n        Dependencies: []\n\n      configsvr: \n        Service-Dependencies: []\n\n        Subscribes: \n          set-replicaset-member: \n            Required: false\n            Type: NET_TCP:db:mongodb:replica\n        Publishes: \n          get-db-connection-info: \n            Required: false\n            Type: NET_TCP:db:connection-info\n          get-arbiter: \n            Required: false\n            Type: NET_TCP:db:mongodb:arbiter\n          get-mongo-connection-info: \n            Required: false\n            Type: NET_TCP:db:mongodb\n          get-replicaset: \n            Required: false\n            Type: NET_TCP:db:mongodb:replica-servers\n        Dependencies: []\n\n      router: \n        Service-Dependencies: []\n\n        Subscribes: \n          set-replicaset: \n            Required: false\n            Type: NET_TCP:db:mongodb:replica-servers\n          set-doc-root: \n            Required: false\n            Type: FILESYSTEM:doc-root\n        Publishes: {}\n\n        Dependencies: []\n\nVendor: mongodb.org\nName: mongodb\nNative-Requires: \n- mongodb-server\n- mongodb-devel\n- libmongodb\n- mongodb\nDisplay-Name: MongoDB v2.0.0 (x86-64)\nProvides: \n- mongodb\n- mongodb(version) = 2.0.0\nVersion: 2.0.0\nDescription: Cartridge packaging MongoDB\nArchitecture: x86-64\n","--- \nRequires: []\n\nLicense: GPLv2\nDefault-Profile: default\nConflicts: []\n\nService-Dependencies: []\n\nSubscribes: \n  set-jenkins-url: \n    Required: false\n    Type: NET_TCP:jenkins:url\nPublishes: \n  get-job-interface-url: \n    Required: false\n    Type: NET_TCP:jenkins:job-url\nVendor: unknown\nName: rhc-cartridge-jenkins-client-1.4\nConnections: {}\n\nNative-Requires: []\n\nDisplay-Name: jenkins-client v1.4 (noarch)\nProvides: \n- jenkins-client\nVersion: 1.0.0\nDependencies: []\n\nDescription: Cartridge providing support for creating/managing jenkins jobs\nArchitecture: noarch\n"]'
	  cart_yaml = JSON.parse json
	  cart_yaml.map{|y| Cloud::Sdk::Cartridge.new.from_descriptor YAML.load y}
	end
	
	def self.find_cartridge(capability)
	  carts = self.cartridges
	  carts.each do |cart|
	    return cart if cart.all_capabilities.include?(capability)
	    return cart if cart.name == capability
    end
  end
end
