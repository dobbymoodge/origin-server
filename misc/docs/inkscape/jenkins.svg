<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="744.09448819"
   height="1052.3622047"
   id="svg2"
   version="1.1"
   inkscape:version="0.48.1 r9760"
   sodipodi:docname="New document 1">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="0.7"
     inkscape:cx="238.82147"
     inkscape:cy="457.32302"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1419"
     inkscape:window-height="844"
     inkscape:window-x="1680"
     inkscape:window-y="0"
     inkscape:window-maximized="0" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="layer1">
    <text
       xml:space="preserve"
       style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="170"
       y="38.076469"
       id="text3763"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3765"
         x="170"
         y="38.076469">Jenkins Workflow</tspan></text>
    <g
       id="g3806"
       transform="translate(57.142856,24.285713)">
      <rect
         y="409.50504"
         x="81.428574"
         height="62.85714"
         width="162.85713"
         id="rect2993"
         style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3767"
         y="453.79074"
         x="91.428574"
         style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="453.79074"
           x="91.428574"
           id="tspan3769"
           sodipodi:role="line">Jenkins</tspan></text>
    </g>
    <g
       id="g3824"
       transform="translate(-11.428571,21.428571)">
      <rect
         y="243.79076"
         x="171.42857"
         height="62.857132"
         width="108.57142"
         id="rect2993-9"
         style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3767-4"
         y="288.07645"
         x="181.42857"
         style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="288.07645"
           x="181.42857"
           id="tspan3769-1"
           sodipodi:role="line">App</tspan></text>
    </g>
    <g
       id="g3816"
       transform="translate(105.71429,5.7142857)">
      <rect
         y="425.21933"
         x="367.14285"
         height="62.857147"
         width="252.85715"
         id="rect2993-0"
         style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3767-7"
         y="469.50504"
         x="377.14285"
         style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="469.50504"
           x="377.14285"
           id="tspan3769-6"
           sodipodi:role="line">App-builder</tspan></text>
    </g>
    <g
       id="g3859"
       transform="translate(-48.571423,-28.57143)">
      <rect
         y="655.2193"
         x="181.42857"
         height="61.428547"
         width="172.85715"
         id="rect2993-9-5"
         style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3767-4-7"
         y="699.505"
         x="191.42857"
         style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="699.505"
           x="191.42857"
           id="tspan3769-1-0"
           sodipodi:role="line">Broker</tspan></text>
    </g>
    <g
       id="g3894"
       transform="translate(51.428571,8.5714285)">
      <rect
         y="108.07648"
         x="71.428574"
         height="58.571419"
         width="184.28571"
         id="rect2993-9-4"
         style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
      <text
         sodipodi:linespacing="125%"
         id="text3767-4-3"
         y="152.36217"
         x="81.428574"
         style="font-size:40px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
         xml:space="preserve"><tspan
           y="152.36217"
           x="81.428574"
           id="tspan3769-1-7"
           sodipodi:role="line">Git Push</tspan></text>
    </g>
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 215.35109,328.07646 3.58353,105.71429"
       id="path3903"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0"
       inkscape:connection-start="#g3824"
       inkscape:connection-start-point="d4"
       inkscape:connection-end="#g3806"
       inkscape:connection-end-point="d4" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 301.42856,464.60592 171.42858,-1.29135"
       id="path3905"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0"
       inkscape:connection-start="#g3806"
       inkscape:connection-start-point="d4"
       inkscape:connection-end="#g3816"
       inkscape:connection-end-point="d4" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 526.26847,430.93362 268.57142,320.01391"
       id="path3907"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0"
       inkscape:connection-start="#g3816"
       inkscape:connection-start-point="d4"
       inkscape:connection-end="#g3824"
       inkscape:connection-end-point="d4" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 219.88316,496.64789 219.3999,626.64787"
       id="path3909"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0"
       inkscape:connection-start="#g3806"
       inkscape:connection-start-point="d4"
       inkscape:connection-end="#g3859"
       inkscape:connection-end-point="d4" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 279.13919,626.64787 538.04028,493.79076"
       id="path3911"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0"
       inkscape:connection-start="#g3859"
       inkscape:connection-start-point="d4"
       inkscape:connection-end="#g3816"
       inkscape:connection-end-point="d4" />
    <path
       style="fill:none;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 214.8612,175.21932 -0.42654,90.00001"
       id="path3913"
       inkscape:connector-type="polyline"
       inkscape:connector-curvature="0"
       inkscape:connection-start="#g3894"
       inkscape:connection-start-point="d4"
       inkscape:connection-end="#g3824"
       inkscape:connection-end-point="d4" />
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="231.42857"
       y="223.79077"
       id="text3915"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3917"
         x="231.42857"
         y="223.79077">Git push via ssh</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="74.285713"
       y="378.07642"
       id="text3919"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3921"
         x="74.285713"
         y="378.07642">Jenkins API</tspan><tspan
         sodipodi:role="line"
         x="74.285713"
         y="403.07642"
         id="tspan3923">build request</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="310"
       y="458.07645"
       id="text3925"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3927"
         x="310"
         y="458.07645">Slave</tspan><tspan
         sodipodi:role="line"
         x="310"
         y="483.07645"
         id="tspan3943">Via SSH Tunnel</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="385.71429"
       y="343.79074"
       id="text3929"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3931"
         x="385.71429"
         y="343.79074">Git clone via ssh</tspan><tspan
         sodipodi:role="line"
         x="385.71429"
         y="368.79074"
         id="tspan3933">Then rsync push when finished</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="392.85715"
       y="588.07648"
       id="text3935"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3937"
         x="392.85715"
         y="588.07648">Broker creates</tspan><tspan
         sodipodi:role="line"
         x="392.85715"
         y="613.07648"
         id="tspan3945">app builder</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="17.119141"
       y="532.52258"
       id="text3935-3"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         x="17.119141"
         y="532.52258"
         id="tspan3945-5">Jenkins calls broker</tspan><tspan
         sodipodi:role="line"
         x="17.119141"
         y="557.52258"
         id="tspan3975">to create/destroy</tspan><tspan
         sodipodi:role="line"
         x="17.119141"
         y="582.52258"
         id="tspan3979">app builder via a </tspan><tspan
         sodipodi:role="line"
         x="17.119141"
         y="607.52258"
         id="tspan3981">special key</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:20px;font-style:normal;font-weight:normal;line-height:125%;letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke:none;font-family:Sans"
       x="32.857143"
       y="789.50507"
       id="text3983"
       sodipodi:linespacing="125%"><tspan
         sodipodi:role="line"
         id="tspan3985"
         x="32.857143"
         y="789.50507">Basic workflow is this:</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="814.50507"
         id="tspan3987">1) Git push to app, app sends a build request to jenkins</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="839.50507"
         id="tspan3989">2) Jenkins contacts broker, spins up an app builder</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="864.50507"
         id="tspan3991">3) Jenkins treats app-builder like a slave</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="889.50507"
         id="tspan3993">4) Build starts, clones the app repo to app-builder</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="914.50507"
         id="tspan3995">5) Build completes</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="939.50507"
         id="tspan3997">6) Rsync copy goes to app for deployment</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="964.50507"
         id="tspan3999">7) Build artifacts sent to Jenkins</tspan><tspan
         sodipodi:role="line"
         x="32.857143"
         y="989.50507"
         id="tspan4001">8) End.</tspan></text>
  </g>
</svg>
