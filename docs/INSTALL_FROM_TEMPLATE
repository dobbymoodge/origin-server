Point ec2 tools at libra test:
1) Get the ec2-api-tools: http://aws.amazon.com/developertools/351?_encoding=UTF8&jiveRedirect=1 and unzip to a dir
2) Use/copy the X.509 keys from li source under li/docs/x509 and add to your env:
export EC2_PRIVATE_KEY=~/.aws/libratest/pk-YVICJKJDDLYG2LNKHFV47Z6GO4S5MY4B.pem
export EC2_CERT=~/.aws/libratest/cert-YVICJKJDDLYG2LNKHFV47Z6GO4S5MY4B.pem
3) Add EC2_HOME and JAVA_HOME to your ENV as well
4) Run ec2-describe-images (to prove it works and pick the image you want to instantiate).  You'll need the ami name.

Instantiate and setup the image (starting with an ami name (Ex: ami-f4e3109d)):
1) Run "ec2-run-instances ami-f4e3109d -t t1.micro" and get the instance id from the output (Ex: i-6347070d).  If you need more power you can use m1.large (~.02 per hour vs. ~.34 per hour).  t1.mirco is plenty for small numbers of users/apps.
2) Run "ec2-describe-instances i-6347070d" and get the external name from the output after the ami id (Ex:  ec2-50-17-87-119.compute-1.amazonaws.com)
3) Copy libra.pem from /li/docs/libra to the current dir and run "chmod 600 libra.pem"
4) In another terminal run on the local machine run "cat .ssh/libra_id_rsa.pub" or pick some other public key you want to use.  Copy just the key between ssh-rsa and the identifier at the end to use in step 6)
5) Log into the new instance with "ssh -i libra.pem root@ec2-50-17-87-119.compute-1.amazonaws.com"
6) /usr/bin/rhc-new-user -u <make up a userid and not your RedHat id> -e <email> -s <the key you just copied from 4)>
7) mc-rhc-cartridge-do -a configure -n li -u <userid> --cartridge php-5.3.2
8) You can now browse to http://li.<userid>.rhcloud.com/
9) cd ~<userid>
10) chcon -t ssh_home_t .ssh -R
11) chgrp <userid> /etc/mcollective/client.cfg
12) Run "vi /etc/security/limits.d/85-<userid>.conf" and change nproc 10 to nproc 50

Now back on the client machine:
1) edit ~/.ssh/config and add an entry like:
Host li
   User <userid>
   HostName li.<userid>.rhcloud.com
       IdentityFile ~/.ssh/libra_id_rsa
2) From your local git li repo run "git push ssh://<userid>@li.<userid>.rhcloud.com/var/lib/libra/<userid>/git/li.git master" and you should be able to see the source pushed to http://li.<userid>.rhcloud.com/
3) From the root of the li repo run cp ./client/client.conf ~/.li
4) edit ~./li and change "li_server = 'lidemo.mcgrath.rhcloud.com'" to "li_server = 'li.<userid>.rhcloud.com'"
5) rhc-create-app -u <userid> -a <appname> -r <app folder> -t php-5.3.2 -b
6) You can now browse to http://<appname>.<userid>.rhcloud.com/

You can delete an instance with:
ec2-terminate-instances <instance_id>
