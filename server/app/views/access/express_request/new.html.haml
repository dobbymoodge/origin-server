-# file: Express request access page

- content_for :page_title do
  Get access to OpenShift Express!

= render 'shared/pageheader', :product => 'express', :title => 'Try Express', :subtitle => 'Request Access to OpenShift Express'

.container_24#page

  #access.express.grid_13.push_5
    %h3 Request access to OpenShift Express

    - @access.errors.each do |key, value|
      - if key == :base
        %div
          %strong #{value}
    
    %p#explanation
      Red Hat will grant access to the OpenShift Service subject to the terms and conditions listed in the following documents. Check “Accept” if you have read and agree to be bound to those terms.

    = semantic_form_for @access do |form|
      = form.inputs do
        - accepted_terms_list = Array.new(@user.terms.length)
        - if @user.terms.length > 0
          - @user.terms.each_with_index do |value, i|
            - accepted_terms_list[i] = value['termId']
            .terms_link
              %a{:title => value['termTitle'], :href => value['termUrl'], :target => '_blank'} #{value['termTitle']}
          = form.hidden_field :accepted_terms_list, :value => JSON.generate(accepted_terms_list)
          = form.input :terms_accepted, :input_html => { :type=>'checkbox' }
        - else
          %div.note Note:  You have previously accepted the applicable terms
          = form.hidden_field :terms_accepted, :value => "on"
      = form.buttons do
        = form.commit_button "Request Access", :input_html => { :class => 'button' }
    .clear

  .clear
